!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(1),a=r(i),u=n(2),s=r(u),c=n(3),d=r(c),l=n(4),f=n(6),p=(r(f),function A(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];t=Array.prototype.slice.apply(t);for(var o in t){var i=n.concat([o]),a=t[o];r.push([a,i]),a.children&&(r=r.concat(A(e,a.children,i)))}return r}),h=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,u=function(){var e=a.value,n=o(e,2),r=n[0],i=n[1];if(r.events){var u=Object.keys(r.events).map(function(e){return[i,e,r.events[e]]});t=t.concat(u)}},s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)u()}catch(c){r=!0,i=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}return t},v=function(e,t){return window.e=t,e.reduce(function(e,t){return e.children[t]},t)},y=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=performance.now(),a=e.apply(null,t);if(r&&n.innerHTML.length>0){var u=p(n,[a]),s=h(u),c=!0,d=!1,l=void 0;try{for(var f,y=s[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var m=f.value,g=o(m,3),O=g[0],b=g[1],w=g[2],D=v(O,n);if(!D)throw new Error("Server-side and client-side render tree differs!");D.addEventListener(b,w)}}catch(T){d=!0,l=T}finally{try{!c&&y["return"]&&y["return"]()}finally{if(d)throw l}}}else n.innerHTML="",n.appendChild(a);var _=performance.now();console.log("render",(_-i).toFixed(4)+"ms")},m=(0,a["default"])(document,{SHOULD_COMPONENT_UPDATE:function(e,t){return e.component(e.id+t)}}),g=function(e,t){switch(t.TYPE){case"ADD_TEXT_CHANGE":return t.value}return e},O=function(e,t){switch(t.type){case"ADD_TODO":return e.concat([{text:t.text,finished:!1,id:(new Date).getTime()}]);case"ADD_BATCH_TODO":return t.todos;case"DELETE_TODO":return e.filter(function(e){return e.id!=t.id});case"TOGGLE_FINISHED":var n=e.indexOf(t.todo);return~n?(e[n].finished=!t.todo.finished,e.slice()):e}return e},b=function(e,t){switch(t.TYPE){case"LOCATION_CHANGE":if(e!=t.location)return t.location}return e},w=window.__INITIAL__,D=(0,d["default"])(w,{todos:O,addText:g,location:b});w.location=window.location.pathname;var T=(0,s["default"])(D),_=document.getElementById("app"),E=function(e,t,n,r){var o=function(){r({TYPE:"LOCATION_CHANGE",location:n.pathname})},i=function(){t.back(),o()},a=function(){t.forward(),o()},u=function(e){t.pushState(null,null,e),o()},s=function(e){o()};return e.onpopstate=s,{back:i,forward:a,change:u}},x=E(window,window.history,window.location,T);window.lotsOfTodos=function(){for(var e=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0],t=[],n=0,r=e;r>n;n++)t.push({text:"This is #"+n,id:n});T({type:"ADD_BATCH_TODO",todos:t})},D.listen(function(e){y(l.app,[e,{history:x,DOM:m,dispatch:T}],_)}),y(l.app,[w,{history:x,DOM:m,dispatch:T}],_,_.innerHTML.length)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(e){return"classname"==e.toLowerCase()&&(e="class"),e},r=function(e,t){var n=e[t];if(!Boolean(n))throw new Error("No renderer specified for type "+t+".\n        Pass customRenderers object with key of "+t+" and function as value that is capable of rendering element type.");return n},o=function(o,i,a,u){var s=e.createElement(o);return i&&Object.keys(i).forEach(function(e){"function"!=typeof i[e]?s.setAttribute(n(e),i[e]):(s.events||(s.events={}),s.events[e]=i[e],s.addEventListener(e,i[e]))}),a&&s.appendChild(e.createTextNode(a)),u&&u.forEach(function(n,o){if(Array.isArray(n))n.map(function(e){s.appendChild(e)});else if(Boolean(n.render_type)){var i=r(t,n.render_type);s.appendChild(i(n,o))}else"string"==typeof n?s.appendChild(e.createTextNode(n)):s.appendChild(n)}),s},i={};return new Array("span","a","p","div","h1","h2","h3","strong","li","ul","img","form","input","label","textarea","button").forEach(function(e){i[e]=function(t,n,r){return Array.isArray(n)?(r=n,n=null):"string"!=typeof n?(r=Array.prototype.slice.apply(arguments).slice(1,arguments.length),n=null):"string"==typeof n&&(r=Array.prototype.slice.apply(arguments).slice(2,arguments.length)),o(e,t,n,r)}}),Object.create(Object.assign(e,i),{doc:{value:e}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(t){return e.dispatch(t)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n={reducers:t,listeners:[],state:e,dispatch:function(e){this.state=this.reduceState(this.state,e),this.changed(this.state)},reduceState:function(e,t){var n=this,r={};return Object.keys(this.reducers).forEach(function(o){r[o]=n.reducers[o](e[o],t)}),Object.assign({},e,r)},changed:function(e){this.listeners.forEach(function(t){return t(e)})},listen:function(e){this.listeners.push(e)}};return Object.create(n)},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=(0,i["default"])(function(e,t){var n=t.DOM,r=t.dispatch,o=function(e){e.preventDefault();var t=n.doc.getElementById("new-todo");0!==t.value.length&&(r({type:"ADD_TODO",text:t.value}),t.value="")};return n.div({id:"header"},n.form({id:"todo-form",submit:o},n.div({className:"form-group"},n.input({id:"new-todo",className:"todo-textarea",placeholder:"What needs to be done?",type:"text",submit:o}))))}),u=(0,i["default"])(function(e,t){var n=t.DOM,r=t.dispatch,o=function(t){return r({type:"DELETE_TODO",id:e.id,text:e.text})},i=function(t){t.preventDefault(),r({type:"TOGGLE_FINISHED",todo:e})},a={className:"toggle",type:"checkbox",change:i};return e.finished&&(a.checked=!0),n.li({className:null==e.id?"todo-item todo--selected":"todo-item"},n.div({className:"view"},n.input(a),n.label({},e.text),n.button({click:o,className:"destroy pull-right close-icon"})))}),s=(0,i["default"])(function(e,t){var n=(e.selectedTodoId,e.todos),r=t.DOM,o=t.dispatch;return r.ul({id:"todo-list"},n.map(function(e){return u(e,{DOM:r,dispatch:o})}))}),c=(0,i["default"])(function(e,t){var n=e.path,r=e.text,o=t.history,i=t.DOM,a=t.dispatch,u=function(e){e.preventDefault(),o.change(n,a)};return i.a({className:"link",href:n,click:u},r)}),d=function(e,t){var n=t.components[e.location];return n?n(e,t):t.components["!!NOT_FOUND!!"](e,t)},l=(0,i["default"])(function(e,t){var n=t.DOM,r=e.todos.filter(function(e){return!e.finished}).length;return n.div({id:"todoapp"},n.h1({},"todos"),a({},t),s({todos:e.todos,selectedTodoId:e.selectedTodoId},t),n.div({id:"footer"},n.span({id:"todo-count"},n.strong({},String(r))," items left")),n.div({className:"text-center footer-links"},n.p({},"In console call ",n.strong({},"lotsOfTodos()")," to add 1000 todos (count might be specified via argument)"),c({text:"About this library",path:"/about",className:"link link--about"},t)))}),f=function(e,t){var n=t.DOM;return t.dispatch,n.div({},n.h1({},"Supertiny application library?"),n.p({},'What does "supertiny" stands for? Well, just check your dev tools and go to "Network tab".'),n.p({},"You will see that whole bundle for this very small todo app weights just around ",n.strong({},"8KBs! (gziped just 4KBs)")),n.h2({},"What can it do?"),n.p({},"Well, not much. There is no DOM diffing so app tree is rerendered every time. However shouldComponentupdate decorator works well, so app is still fast"),n.p({},"And as you can see, routing works well either, but it does not support older browser. Well, I wanted to keep this library with no dependency..."),n.p({},"For more info, check githup repo's ",n.a({href:"https://github.com/vojtatranta/supertiny-app-lib"},"README.md.")))},p=function(e,t){return t.DOM.div({},d(e,Object.assign(t,{components:{"/":l,"/about":f,"!!NOT_FOUND!!":l}})))};t["default"]={renderItem:u,app:p},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return e===t?!0:0==Object.keys(e).length&&0==Object.keys(t)?!0:Object.keys(t).every(function(n){return e[n]===t[n]})}function r(e){var t={},r={};return function(){for(var a=arguments.length,u=Array(a),s=0;a>s;s++)u[s]=arguments[s];return{render_type:"SHOULD_COMPONENT_UPDATE",id:String(i),component:function(i){var a=t[i],s=r[i],c=u[0];return a&&s&&n(a,c)?s:(t[i]=o({},c),r[i]=e.apply(void 0,u),r[i])}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.areSameShallow=n,t["default"]=r;var i=0},function(e,t){}]);