!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(1),a=r(i),u=n(2),c=r(u),s=n(3),d=r(s),l=n(4),f=n(5),p=(r(f),function(e,t){e.parentNode.replaceChild(t,e)}),h=function j(e,t,n){return function(r){var o=y(t,e);p(o,n(j(e,t,n),r))}},v=function I(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];t=Array.prototype.slice.apply(t);for(var o in t){var i=n.concat([o]),a=t[o];if(Boolean(a.elementFn)){var u=h(e,i,a.elementFn.component),c=a.elementFn.component(u,a.elementFn.state);p(a,c),a=c}r.push([a,i]),a.children&&(r=r.concat(I(e,a.children,i)))}return r},m=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,u=function(){var e=a.value,n=o(e,2),r=n[0],i=n[1];if(r.events){var u=Object.keys(r.events).map(function(e){return[i,e,r.events[e]]});t=t.concat(u)}},c=e[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)u()}catch(s){r=!0,i=s}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw i}}return t},y=function(e,t){return window.e=t,e.reduce(function(e,t){return e.children[t]},t)},g=function(e){return function(){return e.apply(void 0,arguments)}},O=g(function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=performance.now();if(n&&t.innerHTML.length>0){var i=v(t,[e]),a=m(i),u=!0,c=!1,s=void 0;try{for(var d,l=a[Symbol.iterator]();!(u=(d=l.next()).done);u=!0){var f=d.value,p=o(f,3),h=p[0],g=p[1],O=p[2],w=y(h,t);if(!w)throw new Error("Server-side and client-side render tree differs!");w.addEventListener(g,O)}}catch(b){c=!0,s=b}finally{try{!u&&l["return"]&&l["return"]()}finally{if(c)throw s}}}else setTimeout(function(){return v(t,[e])},0),t.innerHTML="",t.appendChild(e);var T=performance.now();console.log("render",(T-r).toFixed(4)+"ms")}),w=(0,a["default"])(document),b=function(e,t){switch(t.TYPE){case"ADD_TEXT_CHANGE":return t.value}return e},T=function(e,t){switch(t.type){case"ADD_TODO":return e.concat([{text:t.text,finished:!1,id:(new Date).getTime()}]);case"ADD_BATCH_TODO":return t.todos;case"DELETE_TODO":return e.filter(function(e){return e.id!=t.id});case"TOGGLE_FINISHED":var n=e.indexOf(t.todo);return~n?(e[n].finished=!t.todo.finished,e.slice()):e}return e},D=function(e,t){switch(t.TYPE){case"LOCATION_CHANGE":if(e!=t.location)return t.location}return e},E=(0,d["default"])({todos:T,addText:b,location:D}),x=window.__INITIAL__;x.location=window.location.pathname;var _=(0,c["default"])(x,E),A=document.getElementById("app"),N=function(e,t,n,r){var o=function(){r({TYPE:"LOCATION_CHANGE",location:n.pathname})},i=function(){t.back(),o()},a=function(){t.forward(),o()},u=function(e){t.pushState(null,null,e),o()},c=function(e){o()};return e.onpopstate=c,{back:i,forward:a,change:u}},k=N(window,window.history,window.location,_);window.lotsOfTodos=function(){for(var e=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0],t=[],n=0,r=e;r>n;n++)t.push({text:"This is #"+n,id:n});_({TYPE:"ADD_BATCH_TODO",todos:t})},E.listen(function(e){O((0,l.app)(e,{history:k,DOM:w,dispatch:_}),A)}),O((0,l.app)(x,{history:k,DOM:w,dispatch:_}),A,A.innerHTML.length)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=function(e){return"classname"==e.toLowerCase()&&(e="class"),e},n=function(n,r,o,i){var a=e.createElement(n);return r&&Object.keys(r).forEach(function(e){"function"!=typeof r[e]?a.setAttribute(t(e),r[e]):(a.events||(a.events={}),a.events[e]=r[e],a.addEventListener(e,r[e]))}),o&&a.appendChild(e.createTextNode(o)),i&&i.forEach(function(t){if(Array.isArray(t))t.map(function(e){a.appendChild(e)});else if(t.state&&t.component){var n=e.createElement("div");n.elementFn=t,a.appendChild(n)}else"string"==typeof t?a.appendChild(e.createTextNode(t)):a.appendChild(t)}),a},r={};return new Array("span","a","p","div","h1","h2","h3","strong","li","ul","img","form","input","label","textarea","button").forEach(function(e){r[e]=function(t,r,o){return Array.isArray(r)?(o=r,r=null):"string"!=typeof r?(o=Array.prototype.slice.apply(arguments).slice(1,arguments.length),r=null):"string"==typeof r&&(o=Array.prototype.slice.apply(arguments).slice(2,arguments.length)),n(e,t,r,o)}}),Object.create(Object.assign(e,r),{doc:{value:e}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=e,r=function(e,t){var n=Object.keys(t);for(var r in n)if(!e.hasOwnProperty(r)||e[r]!==t[r])return!1;return!0};return function(e){var o=t.reduceState(n,e);return r(n,o)||(n=o,t.changed(n)),n}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=[];return Object.create({reduceState:function(t,n){var r={};return Object.keys(e).forEach(function(o){r[o]=e[o](t[o],n)}),Object.assign({},t,r)},changed:function(e){t.forEach(function(t){return t(e)})},listen:function(e){t.push(e)}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return e===t?!0:0==Object.keys(e).length&&0==Object.keys(t)?!0:Object.keys(t).every(function(n){return e[n]===t[n]})},r=function(e){var t={},r=null;return function(){return n(t,arguments[0])&&r?r:(t=arguments[0],r=e.apply(void 0,arguments))}},o=r(function(e,t){var n=t.DOM,r=t.dispatch,o=function(e){e.preventDefault();var t=n.doc.getElementById("new-todo");0!==t.value.length&&(r({type:"ADD_TODO",text:t.value}),t.value="")};return n.div({id:"header"},n.form({id:"todo-form",submit:o},n.div({className:"form-group"},n.input({id:"new-todo",className:"todo-textarea",placeholder:"What needs to be done?",type:"text",submit:o}))))}),i=r(function(e,t){var n=e.selectedTodoId,r=e.todo,o=t.DOM,i=t.dispatch,a=function(e){return i({type:"DELETE_TODO",id:r.id,text:r.text})},u=function(e){e.preventDefault(),i({type:"TOGGLE_FINISHED",todo:r})},c={className:"toggle",type:"checkbox",change:u};return r.finished&&(c.checked=!0),o.li({className:r.id==n?"todo-item todo--selected":"todo-item"},o.div({className:"view"},o.input(c),o.label({},r.text),o.button({click:a,className:"destroy pull-right close-icon"})))}),a=r(function(e,t){var n=e.selectedTodoId,r=e.todos,o=t.DOM,a=t.dispatch;return o.ul({id:"todo-list"},r.map(function(e){return i({selectedTodoId:n,todo:e},{DOM:o,dispatch:a})}))}),u=r(function(e,t){var n=e.path,r=e.text,o=t.history,i=t.DOM,a=t.dispatch,u=function(e){e.preventDefault(),o.change(n,a)};return i.a({className:"link",href:n,click:u},r)}),c=r(function(e,t){var n=t.components[e.location];return n?n(e,t):t.components["!!NOT_FOUND!!"](e,t)}),s=r(function(e,t){var n=t.DOM,r=e.todos.filter(function(e){return!e.finished}).length;return n.div({id:"todoapp"},n.h1({},"todos"),o({},t),a({todos:e.todos,selectedTodoId:e.selectedTodoId},t),n.div({id:"footer"},n.span({id:"todo-count"},n.strong({},String(r))," items left")),n.div({className:"text-center footer-links"},u({text:"About this library",path:"/about",className:"link link--about"},t)))}),d=function(e,t){var n=t.DOM;return t.dispatch,n.div({},n.h1({},"Supertiny application library?"),n.p({},'What does "supertiny" stands for? Well, just check your dev tools and go to "Network tab".'),n.p({},"You will see that whole bundle for this very small todo app weights just around ",n.strong({},"7KBs! (gziped just 4KBs)")),n.h2({},"What can it do?"),n.p({},"Well, not much. There is no DOM diffing so app tree is rerendered every time. However shouldComponentupdate decorator works well, so app is still fast"),n.p({},"And as you can see, routing works well either, but it does not support older browser. Well, I wanted to keep this library with no dependency..."),n.p({},"For more info, check githup repo's ",n.a({href:"https://github.com/vojtatranta/supertiny-app-lib"},"README.md.")))},l=function(e,t){return c(e,Object.assign(t,{components:{"/":s,"/about":d,"!!NOT_FOUND!!":s}}))};t["default"]={renderItem:i,app:l},e.exports=t["default"]},function(e,t){}]);