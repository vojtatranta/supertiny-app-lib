!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(1),i=r(a),u=n(2),c=r(u),s=n(3),d=r(s),l=n(4),f=n(6),p=(r(f),function A(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];t=Array.prototype.slice.apply(t);for(var o in t){var a=n.concat([o]),i=t[o];r.push([i,a]),i.children&&(r=r.concat(A(e,i.children,a)))}return r}),h=function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,u=function(){var e=i.value,n=o(e,2),r=n[0],a=n[1];if(r.events){var u=Object.keys(r.events).map(function(e){return[a,e,r.events[e]]});t=t.concat(u)}},c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)u()}catch(s){r=!0,a=s}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}return t},v=function(e,t){return window.e=t,e.reduce(function(e,t){return e.children[t]},t)},y=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=performance.now();if(n&&t.innerHTML.length>0){var a=p(t,[e]),i=h(a),u=!0,c=!1,s=void 0;try{for(var d,l=i[Symbol.iterator]();!(u=(d=l.next()).done);u=!0){var f=d.value,y=o(f,3),m=y[0],g=y[1],O=y[2],b=v(m,t);if(!b)throw new Error("Server-side and client-side render tree differs!");b.addEventListener(g,O)}}catch(w){c=!0,s=w}finally{try{!u&&l["return"]&&l["return"]()}finally{if(c)throw s}}}else t.innerHTML="",t.appendChild(e);var D=performance.now();console.log("render",(D-r).toFixed(4)+"ms")},m=(0,i["default"])(document,{SHOULD_COMPONENT_UPDATE:function(e,t){return e.component(e.id+t)}}),g=function(e,t){switch(t.TYPE){case"ADD_TEXT_CHANGE":return t.value}return e},O=function(e,t){switch(t.type){case"ADD_TODO":return e.concat([{text:t.text,finished:!1,id:(new Date).getTime()}]);case"ADD_BATCH_TODO":return t.todos;case"DELETE_TODO":return e.filter(function(e){return e.id!=t.id});case"TOGGLE_FINISHED":var n=e.indexOf(t.todo);return~n?(e[n].finished=!t.todo.finished,e.slice()):e}return e},b=function(e,t){switch(t.TYPE){case"LOCATION_CHANGE":if(e!=t.location)return t.location}return e},w=(0,d["default"])({todos:O,addText:g,location:b}),D=window.__INITIAL__;D.location=window.location.pathname;var T=(0,c["default"])(D,w),_=document.getElementById("app"),E=function(e,t,n,r){var o=function(){r({TYPE:"LOCATION_CHANGE",location:n.pathname})},a=function(){t.back(),o()},i=function(){t.forward(),o()},u=function(e){t.pushState(null,null,e),o()},c=function(e){o()};return e.onpopstate=c,{back:a,forward:i,change:u}},x=E(window,window.history,window.location,T);window.lotsOfTodos=function(){for(var e=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0],t=[],n=0,r=e;r>n;n++)t.push({text:"This is #"+n,id:n});T({type:"ADD_BATCH_TODO",todos:t})},w.listen(function(e){y((0,l.app)(e,{history:x,DOM:m,dispatch:T}),_)}),y((0,l.app)(D,{history:x,DOM:m,dispatch:T}),_,_.innerHTML.length)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(e){return"classname"==e.toLowerCase()&&(e="class"),e},r=function(e,t){var n=e[t];if(!Boolean(n))throw new Error("No renderer specified for type "+t+".\n        Pass customRenderers object with key of "+t+" and function as value that is capable of rendering element type.");return n},o=function(o,a,i,u){var c=e.createElement(o);return a&&Object.keys(a).forEach(function(e){"function"!=typeof a[e]?c.setAttribute(n(e),a[e]):(c.events||(c.events={}),c.events[e]=a[e],c.addEventListener(e,a[e]))}),i&&c.appendChild(e.createTextNode(i)),u&&u.forEach(function(n,o){if(Array.isArray(n))n.map(function(e){c.appendChild(e)});else if(Boolean(n.render_type)){var a=r(t,n.render_type);c.appendChild(a(n,o))}else"string"==typeof n?c.appendChild(e.createTextNode(n)):c.appendChild(n)}),c},a={};return new Array("span","a","p","div","h1","h2","h3","strong","li","ul","img","form","input","label","textarea","button").forEach(function(e){a[e]=function(t,n,r){return Array.isArray(n)?(r=n,n=null):"string"!=typeof n?(r=Array.prototype.slice.apply(arguments).slice(1,arguments.length),n=null):"string"==typeof n&&(r=Array.prototype.slice.apply(arguments).slice(2,arguments.length)),o(e,t,n,r)}}),Object.create(Object.assign(e,a),{doc:{value:e}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=e,r=function(e,t){var n=Object.keys(t);for(var r in n)if(!e.hasOwnProperty(r)||e[r]!==t[r])return!1;return!0};return function(e){var o=t.reduceState(n,e);return r(n,o)||(n=o,t.changed(n)),n}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=[];return Object.create({reduceState:function(t,n){var r={};return Object.keys(e).forEach(function(o){r[o]=e[o](t[o],n)}),Object.assign({},t,r)},changed:function(e){t.forEach(function(t){return t(e)})},listen:function(e){t.push(e)}})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),i=(0,a["default"])(function(e,t){var n=t.DOM,r=t.dispatch,o=function(e){e.preventDefault();var t=n.doc.getElementById("new-todo");0!==t.value.length&&(r({type:"ADD_TODO",text:t.value}),t.value="")};return n.div({id:"header"},n.form({id:"todo-form",submit:o},n.div({className:"form-group"},n.input({id:"new-todo",className:"todo-textarea",placeholder:"What needs to be done?",type:"text",submit:o}))))}),u=(0,a["default"])(function(e,t){var n=t.DOM,r=t.dispatch,o=function(t){return r({type:"DELETE_TODO",id:e.id,text:e.text})},a=function(t){t.preventDefault(),r({type:"TOGGLE_FINISHED",todo:e})},i={className:"toggle",type:"checkbox",change:a};return e.finished&&(i.checked=!0),n.li({className:null==e.id?"todo-item todo--selected":"todo-item"},n.div({className:"view"},n.input(i),n.label({},e.text),n.button({click:o,className:"destroy pull-right close-icon"})))}),c=(0,a["default"])(function(e,t){var n=(e.selectedTodoId,e.todos),r=t.DOM,o=t.dispatch;return r.ul({id:"todo-list"},n.map(function(e){return u(e,{DOM:r,dispatch:o})}))}),s=(0,a["default"])(function(e,t){var n=e.path,r=e.text,o=t.history,a=t.DOM,i=t.dispatch,u=function(e){e.preventDefault(),o.change(n,i)};return a.a({className:"link",href:n,click:u},r)}),d=function(e,t){var n=t.components[e.location];return n?n(e,t):t.components["!!NOT_FOUND!!"](e,t)},l=(0,a["default"])(function(e,t){var n=t.DOM,r=e.todos.filter(function(e){return!e.finished}).length;return n.div({id:"todoapp"},n.h1({},"todos"),i({},t),c({todos:e.todos,selectedTodoId:e.selectedTodoId},t),n.div({id:"footer"},n.span({id:"todo-count"},n.strong({},String(r))," items left")),n.div({className:"text-center footer-links"},n.p({},"In console call ",n.strong({},"lotsOfTodos()")," to add 1000 todos (count might be specified via argument)"),s({text:"About this library",path:"/about",className:"link link--about"},t)))}),f=function(e,t){var n=t.DOM;return t.dispatch,n.div({},n.h1({},"Supertiny application library?"),n.p({},'What does "supertiny" stands for? Well, just check your dev tools and go to "Network tab".'),n.p({},"You will see that whole bundle for this very small todo app weights just around ",n.strong({},"8KBs! (gziped just 4KBs)")),n.h2({},"What can it do?"),n.p({},"Well, not much. There is no DOM diffing so app tree is rerendered every time. However shouldComponentupdate decorator works well, so app is still fast"),n.p({},"And as you can see, routing works well either, but it does not support older browser. Well, I wanted to keep this library with no dependency..."),n.p({},"For more info, check githup repo's ",n.a({href:"https://github.com/vojtatranta/supertiny-app-lib"},"README.md.")))},p=function(e,t){return t.DOM.div({},d(e,Object.assign(t,{components:{"/":l,"/about":f,"!!NOT_FOUND!!":l}})))};t["default"]={renderItem:u,app:p},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return e===t?!0:0==Object.keys(e).length&&0==Object.keys(t)?!0:Object.keys(t).every(function(n){return e[n]===t[n]})}function r(e){var t={},r={};return function(){for(var i=arguments.length,u=Array(i),c=0;i>c;c++)u[c]=arguments[c];return{render_type:"SHOULD_COMPONENT_UPDATE",id:String(a),component:function(a){var i=t[a],c=r[a],s=u[0];return i&&c&&n(i,s)?c:(t[a]=o({},s),r[a]=e.apply(void 0,u),r[a])}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.areSameShallow=n,t["default"]=r;var a=0},function(e,t){}]);